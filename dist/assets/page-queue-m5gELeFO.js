import{d,r as f,c as a,a as n,b as o,F as g,f as v,e as I,t as c,n as y,k as m,i as q,_ as w,w as _,j as k,u as U}from"./index-CO4fXZPx.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";class x{items=[];enqueue(t){this.items.push(t)}dequeue(){return this.items.shift()}peek(){return this.items[0]}isEmpty(){return this.items.length===0}size(){return this.items.length}getItems(){return[...this.items]}clear(){this.items=[]}}class T extends x{isUploading=!1;onUpload;constructor(t){super(),this.onUpload=t}enqueueFile(t){const e={id:`${Date.now()}-${Math.random()}`,file:t,status:"pending",progress:0};return super.enqueue(e),this.tryUploadNext(),e}getAllItems(){return super.getItems()}tryUploadNext(){if(this.isUploading)return;const t=this.getItems().find(e=>e.status==="pending");t&&(this.isUploading=!0,t.status="uploading",this.onUpload(t,()=>{t.status="done",this.isUploading=!1,this.tryUploadNext()}))}}const F={class:"file-uploaded-queue"},$={class:"file-uploaded-queue__list"},b={class:"file-uploaded-queue__item__title"},C={key:0},N={key:1},z={key:2},Q={key:0,class:"file-uploaded-queue__item__progress"},S=d({__name:"file-uploaded-queue",setup(i){const t=f([]),e=new T((p,u)=>{let s=0;const l=setInterval(()=>{s+=10,p.progress=s,t.value=e.getAllItems(),s>=100&&(clearInterval(l),u(),t.value=e.getAllItems())},300)});function r(p){const u=p.target;if(!u.files)return;Array.from(u.files).forEach(l=>{e.enqueueFile(l)}),t.value=e.getAllItems()}return(p,u)=>(n(),a("div",F,[u[0]||(u[0]=o("h3",{class:"file-uploaded-queue__title"},"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð²",-1)),o("input",{type:"file",multiple:"",onChange:r},null,32),o("ul",$,[(n(!0),a(g,null,v(t.value,s=>(n(),a("li",{key:s.id,class:"file-uploaded-queue__item"},[o("div",b,[o("span",null,c(s.file.name),1),o("span",null,[s.status==="pending"?(n(),a("span",C,"ðŸ•’ ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ")):s.status==="uploading"?(n(),a("span",N,"â¬†ï¸ Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° "+c(s.progress)+"%",1)):(n(),a("span",z,"âœ… Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¾"))])]),s.status==="uploading"?(n(),a("div",Q,[o("div",{class:"file-uploaded-queue__item__progress-bar",style:y({width:s.progress+"%"})},null,4)])):I("",!0)]))),128))])]))}}),A=h(S,[["__scopeId","data-v-e6d899a5"]]);class B extends x{id=1;maxSize;constructor(t=3){super(),this.maxSize=t}enqueueToast(t){this.size()>=this.maxSize&&this.dequeue(),this.id++;const e={id:this.id,message:t};return this.enqueue(e),e}}const V={class:"toast-container"},E=d({__name:"toast-item",setup(i,{expose:t}){const e=new B,r=f([]);return t({showToast:u=>{e.enqueueToast(u),r.value=e.getItems(),setTimeout(()=>{e.dequeue(),r.value=e.getItems()},3e3)}}),(u,s)=>(n(),a("div",V,[(n(!0),a(g,null,v(r.value,l=>(n(),a("div",{key:l.id,class:"toast"},c(l.message)+" "+c(l.id),1))),128))]))}}),D=h(E,[["__scopeId","data-v-9b9f66b6"]]),O={class:"toast-wrapper"},j=d({__name:"toast-wrapper",setup(i){const t=f(null),e=()=>{t.value&&t.value.showToast("Ð­Ñ‚Ð¾ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ!")};return(r,p)=>(n(),a("div",O,[o("button",{class:"toast-wrapper__button",onClick:e},"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ"),m(D,{ref_key:"toastComponent",ref:t},null,512)]))}}),L=h(j,[["__scopeId","data-v-d27dbe17"]]),M=d({__name:"view-queue",setup(i){return(t,e)=>(n(),q(w,{title:"ÐžÑ‡ÐµÑ€ÐµÐ´ÑŒ"},{description:_(()=>e[0]||(e[0]=[k(" ÐžÑ‡ÐµÑ€ÐµÐ´ÑŒ â€” ÑÑ‚Ð¾ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð°Ñ Ð¿Ð¾ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñƒ FIFO (First In, First Out), Ñ‡Ñ‚Ð¾ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð¿ÐµÑ€Ð²Ñ‹Ð¼ Ð¸Ð·Ð²Ð»ÐµÑ‡Ñ‘Ð½. ")])),cons:_(()=>e[1]||(e[1]=[o("p",null," ÐžÑ‡ÐµÑ€ÐµÐ´Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÑ‚Ð°Ñ‚ÑŒ ÑƒÐ·ÐºÐ¸Ð¼ Ð¼ÐµÑÑ‚Ð¾Ð¼ Ð² Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸, ÐµÑÐ»Ð¸ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ, Ñ‡ÐµÐ¼ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ. Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¸Ð²ÐµÑÑ‚Ð¸ Ðº Ð¿ÐµÑ€ÐµÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸ÑŽ Ð¿Ð°Ð¼ÑÑ‚Ð¸, ÐµÑÐ»Ð¸ Ð½Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð¾Ð¼ Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð¸ Ð´Ð¾Ð»Ð¶Ð½Ñ‹Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼. ",-1)])),example1:_(()=>[e[2]||(e[2]=o("p",null," ÐžÑ‡ÐµÑ€ÐµÐ´ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð° Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð¼ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ñ„Ð°Ð¹Ð»Ð¾Ð², Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°Ñ Ð¸Ñ… Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ Ð² Ñ‚Ð¾Ð¼ Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¾Ð½Ð¸ Ð±Ñ‹Ð»Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹. Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ„Ð°Ð¹Ð»Ð¾Ð² (5-10 ÑˆÑ‚ÑƒÐº) Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¸Ñ…. ÐÐµ Ð²Ð¾Ð»Ð½ÑƒÐ¹Ñ‚ÐµÑÑŒ â€” Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð½Ð° ÑÐ°Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ÑÑ. ",-1)),m(A)]),example2:_(()=>[e[3]||(e[3]=o("p",null,"ÐžÑ‡ÐµÑ€ÐµÐ´ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð° Ð´Ð»Ñ Ð¿Ð¾ÐºÐ°Ð·Ð° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹",-1)),m(L)]),_:1}))}}),H=d({__name:"page-queue",setup(i){return(t,e)=>(n(),q(U(M)))}});export{H as default};
